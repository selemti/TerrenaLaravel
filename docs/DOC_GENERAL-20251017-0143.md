Doc General — Versión y Config (sanitizada)

Fecha: 2025-10-17 01:43

Entorno y versiones
- PHP/Laravel: vía composer.json → PHP ^8.2, Laravel ^12.0.
- PostgreSQL: SELECT version() → PostgreSQL 9.5.0 (32-bit) [solo lectura].

Base de datos (sanitizado)
- Default connection: `pgsql`.
- Host/Port/Base: presentes; se omiten por seguridad en este doc.
- search_path (config): `selemti,public`; verificación por sesión: `selemti, public`.
- Redis: cliente phpredis; host/puerto por defecto (omitidos detalles sensibles).

Auth (config:show auth)
- Guard por defecto: `web` (session).
- Provider: `users` (eloquent, App\Models\User).
- No hay guard `api` con sanctum configurado explícitamente.

Seguridad y riesgos
- Rutas /api/caja/* bajo middleware `api` pero sin `auth` aplicado.
- Kernel custom puede impedir que se apliquen middlewares estándar si no está bien registrado.

Acciones recomendadas
- Definir y aplicar `auth` (sanctum o JWT) en grupo `/api/caja`.
- Revisar registro de Kernel estándar en `app/Http/Kernel.php` y mover configuraciones del Kernel custom.

